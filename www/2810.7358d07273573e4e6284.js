(self.webpackChunktopmai=self.webpackChunktopmai||[]).push([[2810],{2810:(t,n,i)=>{"use strict";i.r(n),i.d(n,{FavoritesPageModule:()=>O});var e=i(1116),o=i(1462),s=i(6611),l=i(5860),r=i(4762),c=i(529),a=i(8619),u=i(5031),p=i(7438),g=i(1179);function d(t,n){if(1&t&&(a.TgZ(0,"span",7),a._uU(1),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.Oqu(null==t.cartItems?null:t.cartItems.length)}}function h(t,n){if(1&t&&(a.TgZ(0,"span",26),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.hij("",null==t||null==t.product?null:t.product.title.substr(0,25)," ..")}}function m(t,n){if(1&t&&(a.TgZ(0,"span",26),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(null==t||null==t.product?null:t.product.title)}}function Z(t,n){if(1&t&&(a.TgZ(0,"span",27),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(null==t||null==t.pvov?null:t.pvov.data)}}function f(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"ion-row"),a.TgZ(1,"ion-col",12),a._UZ(2,"img",13),a.qZA(),a.TgZ(3,"ion-col",14),a.YNc(4,h,2,1,"span",15),a.YNc(5,m,2,1,"span",15),a.TgZ(6,"span",16),a._uU(7),a.qZA(),a.TgZ(8,"div",17),a.TgZ(9,"div",18),a._uU(10),a.qZA(),a.TgZ(11,"div",19),a._uU(12),a.qZA(),a.TgZ(13,"ion-row"),a.TgZ(14,"ion-col",20),a.TgZ(15,"div",21),a.TgZ(16,"div",22),a.NdJ("click",function(){const n=a.CHM(t).index;return a.oxw(2).minus(n)}),a._uU(17," - "),a.qZA(),a.TgZ(18,"div",23),a.TgZ(19,"div",24),a._uU(20),a.qZA(),a.qZA(),a.TgZ(21,"div",22),a.NdJ("click",function(){const n=a.CHM(t).index;return a.oxw(2).plus(n)}),a._uU(22," + "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(23,"ion-col",20),a.TgZ(24,"div",21),a.YNc(25,Z,2,1,"span",25),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=n.$implicit,i=a.oxw(2);a.xp6(2),a.hYB("src","",i.baseUrl,"/",null==t||null==t.product||null==t.product.image[0]?null:t.product.image[0].image,"",a.LSH),a.xp6(2),a.Q6J("ngIf",(null==t||null==t.product||null==t.product.title?null:t.product.title.length)>25),a.xp6(1),a.Q6J("ngIf",(null==t||null==t.product||null==t.product.title?null:t.product.title.length)<25),a.xp6(2),a.Oqu(null==t||null==t.product?null:t.product.subtitle),a.xp6(3),a.hij(" US $",(null==t||null==t.product?null:t.product.price)*(null==t?null:t.qty)," "),a.xp6(2),a.hij(" Qty: ",null==t?null:t.qty," "),a.xp6(8),a.Oqu(null==t?null:t.qty),a.xp6(5),a.Q6J("ngIf",null==t?null:t.pvov)}}function x(t,n){if(1&t&&(a.TgZ(0,"ion-grid"),a.YNc(1,f,26,9,"ion-row",8),a.TgZ(2,"ion-row"),a.TgZ(3,"ion-col",9),a.TgZ(4,"span",10),a._uU(5,"Sub Total"),a.qZA(),a.TgZ(6,"span",11),a._uU(7),a.qZA(),a.qZA(),a.TgZ(8,"ion-col",9),a.TgZ(9,"span",10),a._uU(10,"Shipping Charges"),a.qZA(),a.TgZ(11,"span",11),a._uU(12),a.qZA(),a.qZA(),a.TgZ(13,"ion-col",9),a.TgZ(14,"span",10),a._uU(15,"Total"),a.qZA(),a.TgZ(16,"span",11),a._uU(17),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.cartItems),a.xp6(6),a.hij("$",t.totalAmount,""),a.xp6(5),a.hij("$",t.shippingCharges,""),a.xp6(5),a.hij("$",t.totalAmount+t.shippingCharges,"")}}function q(t,n){1&t&&(a.TgZ(0,"ion-grid"),a.TgZ(1,"ion-row"),a.TgZ(2,"ion-col",28),a.TgZ(3,"p",29),a._uU(4,"Your Cart is Empty!"),a.qZA(),a.qZA(),a.TgZ(5,"ion-col",28),a._UZ(6,"img",30),a.qZA(),a.qZA(),a.qZA())}function A(t,n){if(1&t&&(a.TgZ(0,"ion-item"),a.TgZ(1,"ion-label"),a._uU(2),a.qZA(),a._UZ(3,"ion-radio",34),a.qZA()),2&t){const t=n.$implicit;a.xp6(2),a.Oqu(null==t?null:t.address),a.xp6(1),a.MGl("name","",null==t?null:t.data,"+i"),a.s9C("value",null==t?null:t._id)}}function T(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"ion-row"),a.TgZ(1,"ion-list",31),a.TgZ(2,"ion-radio-group",32),a.NdJ("ngModelChange",function(n){return a.CHM(t),a.oxw().formOj.shipping=n}),a.TgZ(3,"ion-list-header"),a.TgZ(4,"ion-label",33),a._uU(5," Addresses "),a.qZA(),a.qZA(),a.YNc(6,A,4,3,"ion-item",8),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(2),a.Q6J("ngModel",t.formOj.shipping),a.xp6(4),a.Q6J("ngForOf",t.shippings)}}function b(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"ion-footer"),a.TgZ(1,"ion-grid",35),a.TgZ(2,"ion-row",36),a.TgZ(3,"ion-col",37),a.TgZ(4,"ion-button",38),a.NdJ("click",function(){return a.CHM(t),a.oxw().Order()}),a._uU(5,"Create Order"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}}const I=[{path:"",component:(()=>{class t{constructor(t,n,i,e,o){this.router=t,this.prodSrv=n,this.toastController=i,this.shiipingSrv=e,this.orderSrv=o,this.baseUrl=c.N.baseUrl,this.user=JSON.parse(localStorage.getItem("user")),this.totalAmount=0,this.shippingCharges=20,this.loader=!1,this.formOj={shipping:"",user:"",products:[],totalAmount:0,shippingtax:20}}ionViewWillEnter(){this.get()}ngOnInit(){this.get()}get(){this.totalAmount=0;const t=JSON.parse(localStorage.getItem("products"));this.prodSrv.findCartProducts(t).subscribe(t=>{this.loader=!0,this.cartItems=t.data;for(let n=0;n<this.cartItems.length;n++)this.totalAmount+=this.cartItems[n].product.price*this.cartItems[n].qty});const n=JSON.parse(localStorage.getItem("user"));null!=n&&this.shiipingSrv.getAllByuser(n._id).subscribe(t=>{this.shippings=t.data})}presentToast(t){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:3e3})).present()})}goBack(){this.router.navigate(["tabs/about-me"])}minus(t){this.totalAmount=0,this.cartItems[t].qty>1?this.cartItems[t].qty-=1:this.presentToast("Minimum 1 quantity required");for(let n=0;n<this.cartItems.length;n++)this.totalAmount+=this.cartItems[n].product.price*this.cartItems[n].qty}plus(t){this.totalAmount=0,this.cartItems[t].qty+=1;for(let n=0;n<this.cartItems.length;n++)this.totalAmount+=this.cartItems[n].product.price*this.cartItems[n].qty}Order(){this.formOj.totalAmount=this.totalAmount,this.formOj.user=this.user._id,this.formOj.products=this.cartItems,""===this.formOj.shipping?this.presentToast("Please select Shipping Address"):this.orderSrv.create(this.formOj).subscribe(t=>{"success"===t.message?(this.presentToast("Order Registered successfully"),localStorage.removeItem("products"),localStorage.removeItem("selectedProduct"),this.router.navigate(["/tabs/about-me"])):console.log("something went wrong")})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(l.F0),a.Y36(u.M),a.Y36(s.yF),a.Y36(p.N),a.Y36(g.p))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-favorites"]],decls:14,vars:6,consts:[[1,"color-header",2,"position","relative",3,"translucent"],["name","chevron-back-outline",2,"position","absolute","top","12px","font-size","25px",3,"click"],["id","cartItems",4,"ngIf"],[2,"display","flex","justify-content","flex-start","align-items","center","height","100%"],[2,"margin-left","40px","font-weight","bold","font-size","18px"],["name","cart-outline",2,"position","absolute","top","12px","right","15px","font-size","25px"],[4,"ngIf"],["id","cartItems"],[4,"ngFor","ngForOf"],["size","12",1,"mb-1"],["id","subtotal"],["id","totalAmount"],["size","4",2,"display","flex","justify-content","center","align-items","center"],[2,"height","100px","width","100px","display","block",3,"src"],["size","8"],["id","title",4,"ngIf"],["id","subtitle"],[2,"justify-content","space-between","margin-top","8px"],[2,"width","50%","display","contents"],[2,"width","50%","float","right"],["size","6"],["id","qtySection"],["id","qtyButton",3,"click"],[2,"text-align","center","display","flex","align-items","center","justify-content","center"],[2,"padding","0px 15px","font-size","14px"],["id","varient",4,"ngIf"],["id","title"],["id","varient"],["size","12"],["id","cartEmpty"],["src","../../assets/imgs/emptyCart.png","alt",""],[2,"width","100%"],["name","rd",3,"ngModel","ngModelChange"],[2,"font-size","19px"],[3,"name","value"],[2,"padding","0"],[1,"new-grid",2,"height","50px","background-color","white"],["size","12",1,"itm-col"],["expand","block",2,"--background","#35CA75","margin","0px",3,"click"]],template:function(t,n){1&t&&(a.TgZ(0,"ion-content"),a.TgZ(1,"ion-header",0),a.TgZ(2,"ion-icon",1),a.NdJ("click",function(){return n.goBack()}),a.qZA(),a.YNc(3,d,2,1,"span",2),a.TgZ(4,"div",3),a.TgZ(5,"div",4),a._uU(6," Order Summary "),a.qZA(),a.qZA(),a.TgZ(7,"ion-icon",5),a._uU(8,"12"),a.qZA(),a.qZA(),a._UZ(9,"hr"),a.YNc(10,x,18,4,"ion-grid",6),a.YNc(11,q,7,0,"ion-grid",6),a.YNc(12,T,7,2,"ion-row",6),a.qZA(),a.YNc(13,b,6,0,"ion-footer",6)),2&t&&(a.xp6(1),a.Q6J("translucent",!0),a.xp6(2),a.Q6J("ngIf",(null==n.cartItems?null:n.cartItems.length)>0),a.xp6(7),a.Q6J("ngIf",(null==n.cartItems?null:n.cartItems.length)>0),a.xp6(1),a.Q6J("ngIf",(null==n.cartItems?null:n.cartItems.length)<1),a.xp6(1),a.Q6J("ngIf",(null==n.shippings?null:n.shippings.length)>0&&(null==n.cartItems?null:n.cartItems.length)>0),a.xp6(1),a.Q6J("ngIf",(null==n.cartItems?null:n.cartItems.length)>0))},directives:[s.W2,s.Gu,s.gu,e.O5,s.jY,e.sg,s.Nd,s.wI,s.q_,s.se,s.QI,o.JJ,o.On,s.yh,s.Q$,s.Ie,s.B7,s.U5,s.fr,s.YG],styles:[".color-header[_ngcontent-%COMP%]{height:50px}ion-header[_ngcontent-%COMP%]:after{background-image:none}hr[_ngcontent-%COMP%]{height:1px;background:#e5e5e5}.top-item-slider[_ngcontent-%COMP%]{overflow:auto;white-space:nowrap;display:flex;-webkit-overflow-scrolling:touch;justify-content:space-between;margin-left:10px}.top-item-slider[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.one-item[_ngcontent-%COMP%]{background:#efefef}.one-item[_ngcontent-%COMP%], .selected-one-item[_ngcontent-%COMP%]{font-size:14px;padding:5px 10px;border-radius:15px;margin-left:10px}.selected-one-item[_ngcontent-%COMP%]{background:#e1e6fd}#cartItems[_ngcontent-%COMP%]{position:absolute;top:4px;right:5px;color:#fff;background:#fb0f3a;padding:2px 6px;border-radius:12px;font-size:12px;z-index:100}#title[_ngcontent-%COMP%]{font-size:15px}#subtitle[_ngcontent-%COMP%]{font-size:12px;display:block}#qtyButton[_ngcontent-%COMP%]{padding:5px 8px;background:#cbcaca;line-height:12px;font-size:24px}#subtotal[_ngcontent-%COMP%]{color:#585858}#subtotal[_ngcontent-%COMP%], #totalAmount[_ngcontent-%COMP%]{font-size:18px;font-weight:600}#totalAmount[_ngcontent-%COMP%]{color:#000;float:right;margin:0 20px 0 0}#qtySection[_ngcontent-%COMP%]{display:flex;margin:15px 0 0}#varient[_ngcontent-%COMP%]{position:absolute;right:5px}#cartEmpty[_ngcontent-%COMP%]{margin:40px auto;display:block;text-align:center;font-size:25px}"]}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[l.Bz.forChild(I)],l.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[e.ez,o.u5,s.Pc,_]]}),t})()}}]);